@using LAHJA.Data.UI.Components.Templates_Subscriptions
@using MudBlazor


<MudPaper Width="100%" Class="py-4">

    <MudGrid JustifyContent="SpaceBetween" AlignItems="Center">
        @foreach (var SubscriptionDetails in SubscriptionDetailss)
            {
        <!-- القسم الأول: تاريخ البدء -->
        <MudItem>
            <MudStack Spacing="1">
                    <MudText Typo="Typo.h6" Class="px-4">@SubscriptionDetails.Started</MudText>
                @* <MudText Typo="Typo.body2" Class="px-4 mud-text-secondary" @onmouseover="ShowTooltip" @onmouseout="HideTooltip">
                @StartDate
                </MudText>

                @if (IsTooltipVisible)
                {
                <div class="tooltip">
                @TooltipText
                </div>
                } *@

                <MudTooltip>
                    <ChildContent>
                        <MudText Typo="Typo.body2" Class="px-4 mud-text-secondary">
                                @SubscriptionDetails.StartDate

                        </MudText>
                    </ChildContent>
                    <TooltipContent>

                            <MudText Typo="Typo.h6">Time conversion</MudText>
                            <MudDivider />
                            <MudText Typo="Typo.body2">UTC: 2:23 AM   Jan 27, 2025</MudText>
                            <MudText Typo="Typo.body2">
                                +03 • Your customer: 2:23 AM   Jan 27, 2025
                            </MudText>


                    </TooltipContent>
                </MudTooltip>
            </MudStack>
        </MudItem>

        <MudDivider Vertical="true" FlexItem="true" style="height: 100px !important; margin-top: 2%;" />

        <!-- القسم الثاني: الفاتورة القادمة -->
        <MudItem>
            <MudStack Spacing="1">
                    <MudText Typo="Typo.h6" Class="px-4">  @SubscriptionDetails.Invoice</MudText>
                <MudLink Href="#" OnClick="ShowActions" Typo="Typo.body2" Color="Color.Primary" Class="px-4 mud-text-secondary">

                        @SubscriptionDetails.NextInvoice
                </MudLink>
                @* <MudText  Typo="Typo.body2" Color="Color.Primary" Class="px-4 mud-text-secondary">
                @NextInvoice
                </MudText> *@
            </MudStack>
        </MudItem>

        <MudDivider Vertical="true" FlexItem="true" style="height: 100px !important; margin-top: 2%;" />

        <!-- القسم الثالث: إلغاء الوضع التجريبي -->
        <MudItem>
            <MudStack Spacing="1">
                <MudText Typo="Typo.h6" Class="px-4">
                        @SubscriptionDetails.Cancellation
                    <MudIcon style="font-size: 16px; " Icon="@Icons.Material.Filled.Info" class="mr-3"></MudIcon>
                </MudText>
                    <MudText Typo="Typo.body2" Class="px-4 mud-text-secondary">@SubscriptionDetails.TestModeDate</MudText>
            </MudStack>
        </MudItem>
            }
    </MudGrid>
</MudPaper>

@code {
    // البيانات المدخلة للمكون
    
    [Parameter] public List<SubscriptionDetails> SubscriptionDetailss { get; set; } = new();

    [Parameter] public EventCallback OninvoicesClick { get; set; }

    // حالة ظهور التلميح

    // أحداث التلميح
   
    
   
    private async Task ShowActions()
    {
        // هنا نقوم بتنفيذ الحدث عند النقر على "Actions"
        await OninvoicesClick.InvokeAsync();
    }
}
@*


<MudPaper Width="100%" Class="py-3">
    <MudGrid JustifyContent="SpaceBetween" AlignItems="Center">
        <!-- القسم الأول: تاريخ البدء -->
        <MudItem>
            <MudStack Spacing="1">
                <MudText Typo="Typo.h6" Class="px-4">Started</MudText>
                <MudText Typo="Typo.body2" Class="px-4 mud-text-secondary" @onmouseover="ShowTooltip" @onmouseout="HideTooltip">

                    Jan 27
                </MudText>


                @if (IsTooltipVisible)
                {
                    <div class="tooltip">
                        هذا نص توضيحي عند التأشير
                    </div>
                }



            </MudStack>
        </MudItem>

        <MudDivider Vertical="true" FlexItem="true" style="height: 100px !important; margin-top: 2%;" />

        <!-- القسم الثاني: الفاتورة القادمة -->
        <MudItem>
            <MudStack Spacing="1">
                <MudText Typo="Typo.h6" Class="px-4">Next invoice</MudText>
                <MudText Typo="Typo.body2" Color="Color.Primary" Class="px-4 mud-text-secondary">
                    $250.00 on Feb 27
                </MudText>
            </MudStack>
        </MudItem>

        <MudDivider Vertical="true" FlexItem="true" style="height: 100px !important; margin-top: 2%;" />

        <!-- القسم الثالث: إلغاء الوضع التجريبي -->
        <MudItem>
            <MudStack Spacing="1">
                <MudText Typo="Typo.h6" Class="px-4">
                    Test mode auto-cancellation

                    <MudIcon Icon="@Icons.Material.Filled.Info" class="mr-3"></MudIcon>

                </MudText>
                <MudText Typo="Typo.body2" Class="px-4 mud-text-secondary">Apr 27</MudText>
            </MudStack>
        </MudItem>
    </MudGrid>
</MudPaper>
                     <MudIcon Icon="@Icons.Material.Filled.ErrorOutline" Color="Color.Primary" />
                    *@